%start S

S[SEM=<app(?vp, ?np)>] -> NP[SEM=?np, type=simple] VP[SEM=?vp]
S[SEM=<app(?np, ?vp)>] -> NP[SEM=?np, type=subordonnee] VP[SEM=?vp]
S -> NP VP 'et' NP VP

NP -> N | Pronom | N Adj | Art Adj N | Art Nprop
NP[SEM=?nom, type=simple] -> Art[nombre=?sp, genre=?mf] N[SEM=?nom, nombre=?sp, genre=?mf]
NP[SEM=<?adj>, type=simple] -> Art[nombre=?sp, genre=?mf] N[nombre=?sp, genre=?mf] Adj[SEM=?adj, nombre=?sp, genre=?mf]

NP -> Art N 'de' NP | Adj N 'de' NP | N 'de' NP | Art N 'du' N | NPP 'qui' VP
NP[SEM=?vp, type=subordonnee] -> Art N 'qui' VP[SEM=?vp]
NPP -> N 'de' Pronom | Art N 'de' Pronom

VP -> V Enum | V 'de' NP
VP[SEM=<app(?v, ?np)>] -> V[SEM=?v] NP[SEM=?np]
VP[SEM=<app(?v, ?np)>] -> V[SEM=?v] 'dans' NP[SEM=?np]
VP[SEM=<app(?v, ?np)>] -> V[SEM=?v] NP[SEM=?np] 'comme' NP

Enum -> Art NN 'et' N
NN -> N NN | N

V -> 'sont'
V[SEM=<\x.\s.habiter (s, x)>] -> 'vit' | 'habite'
V[SEM=<\y.\x.avoir (x, y)>] -> 'a'
V[SEM=<\x.x>] -> 'est'
V[SEM=<\b.\x.boire (x, b)>] -> 'boit'
V[SEM=<\c.\x.fumer (x, c)>] -> 'fume'

N[SEM=<personne>, nombre=singulier, genre=masculin] -> 'proprietaire' | 'homme'
N[nombre=singulier, genre=feminin] -> 'personne'
Pronom[SEM=<personne>, nombre=singulier, genre=masculin]  -> 'celui'
Pronom[SEM=<personne>, nombre=singulier, genre=masculin]  -> 'il'

N[SEM=<nationalite(Anglais)>, nombre=singulier, genre=masculin] -> 'anglais'
N[SEM=<nationalite(Suedois)>, nombre=singulier, genre=masculin] -> 'suedois'
N[SEM=<nationalite(Danois)>, nombre=singulier, genre=masculin] -> 'danois'
N[SEM=<nationalite(Norvegien)>, nombre=singulier, genre=masculin] -> 'norvegien'
N[SEM=<nationalite(Allemand)>, nombre=singulier, genre=masculin] -> 'allemand'

N[nombre=pluriel, genre=feminin] -> 'couleurs'
N[nombre=singulier, genre=feminin] -> 'maison'

N[SEM=<couleur(rouge)>, nombre=singulier, genre=masculin] -> 'rouge'
N[SEM=<couleur(jaune)>, nombre=singulier, genre=masculin] -> 'jaune'
N[SEM=<couleur(bleu)>, nombre=singulier, genre=masculin] -> 'bleu'
N[SEM=<couleur(vert)>, nombre=singulier, genre=masculin] -> 'vert'
N[SEM=<couleur(blanc)>, nombre=singulier, genre=masculin] -> 'blanc'

Adj[SEM=<couleur(rouge)>, nombre=singulier, genre=feminin, type=couleur] -> 'rouge'
Adj[SEM=<couleur(jaune)>, nombre=singulier, genre=feminin, type=couleur] -> 'jaune'
Adj[SEM=<couleur(bleu)>, nombre=singulier, genre=feminin, type=couleur] -> 'bleue'
Adj[SEM=<couleur(vert)>, nombre=singulier, genre=feminin, type=couleur] -> 'verte'
Adj[SEM=<couleur(blanc)>, nombre=singulier, genre=feminin, type=couleur] -> 'blanche'

N[nombre=pluriel, genre=masculin] -> 'animaux'

N[SEM=<animal(chien)>, nombre=pluriel, genre=masculin] -> 'chiens'
N[SEM=<animal(oiseau)>, nombre=pluriel, genre=masculin] -> 'oiseaux'
N[SEM=<animal(chat)>, nombre=pluriel, genre=masculin] -> 'chats'
N[SEM=<animal(cheval)>, nombre=singulier, genre=masculin] -> 'cheval'

N[SEM=<the>, nombre=singulier, genre=masculin] -> 'the'
N[SEM=<cafe>, nombre=singulier, genre=masculin] -> 'cafe'
N[SEM=<jus_d_orange>, nombre=singulier, genre=masculin] -> 'jus' 'd' 'orange'
N[SEM=<biere>, nombre=singulier, genre=feminin] -> 'biere'
N[SEM=<eau>, nombre=singulier, genre=feminin] -> 'eau'

N[SEM=<\x.position (left (x))>] -> 'Ã ' 'gauche'
N[SEM=<position(3)>] -> 'centre'
N[SEM=<\x.position (left (x)) | position(right (x))>] -> 'a' 'cote'
N[SEM=<\x.position (left (x)) | position(right (x))>, nombre=singulier, genre=masculin] -> 'voisin'
Adj[SEM=<position(1)>, nombre=singulier, genre=feminin] -> 'premiere'

Nprop[SEM=<Pall_Mall>, nombre=pluriel, genre=masculin] -> 'pall' 'mall'
Nprop[SEM=<Dunhill>, nombre=pluriel, genre=masculin] -> 'dunhill'
Nprop[SEM=<Blend>, nombre=pluriel, genre=masculin] -> 'blend'
Nprop[SEM=<Prince>, nombre=pluriel, genre=masculin] -> 'prince'
Nprop[SEM=<Blue_Master>, nombre=pluriel, genre=masculin] -> 'blue' 'master'

Art[nombre=pluriel] -> 'les' | 'des'
Art[nombre=singulier, genre=masculin] -> 'le' | 'un' | 'du' | 'l'
Art[nombre=singulier, genre=feminin] -> 'la' | 'une' | 'l'

Adj[nombre=pluriel, genre=masculin] -> 'domestiques'
Adj -> 'juste'
